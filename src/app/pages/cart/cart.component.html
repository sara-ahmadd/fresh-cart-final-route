<div class="container">
  <div class="row" *ngIf="cartItems.length == 0">
    <p class="h3 text-main fw-bold">Your Cart Is Empty</p>
  </div>
  <div
    class="row bg-light p-4 border-bottom my-3 justify-content-between sticky-top pt-5 shadow z-2"
    *ngIf="totalPrice > 0"
  >
    <p class="text-main fs-3">Total Cart Cost : {{ totalPrice }}EGP</p>
    <div class="d-flex justify-content-between align-items-center">
      <button
        class="col-md-4 btn bg-main text-light d-flex justify-content-center align-items-center gap-2"
        *ngIf="cartItems.length > 0"
        (click)="clearTheCart()"
      >
        <i class="fa fa-trash"></i>
        <span class="fs-5 fw-bold">Clear Cart</span>
      </button>

      <button
        class="col-md-4 btn bg-main d-flex justify-content-center gap-2 align-items-center text-light"
        routerLink="/checkOut"
      >
        <i class="fab fa-cc-visa fs-3"></i>
        <span class="fs-5 fw-bold">Check out</span>
      </button>
    </div>
  </div>

  <div
    class="row justify-content-start bg-light p-5 border-bottom mt-3"
    *ngFor="let item of cartItems"
  >
    <div class="col-md-2">
      <img [src]="item.product.imageCover" class="w-100" height="200" />
    </div>

    <div class="col-md-10 d-flex justify-content-between align-items-end">
      <div class="col-md-6">
        <p class="fs-5">{{ item.product.title }}</p>
        <p class="fs-6 text-main">{{ item.product.category.name }}</p>
        <p>{{ item.price }}EGP</p>
        <button
          class="btn btn-outline-danger d-flex justify-content-center align-items-center gap-2"
          (click)="removeItem(item.product._id)"
        >
          <i class="fa fa-trash"></i>
          <span>Remove</span>
        </button>
      </div>
      <div class="col-md-2 d-flex justify-content-between align-items-center">
        <button
          class="btn bg-main text-light"
          (click)="updateItemCount(item.product._id, item.count + 1)"
        >
          <i class="fa fa-plus"></i>
        </button>
        <p class="m-0">
          {{ item.count }}
        </p>
        <button
          class="btn bg-main text-light"
          (click)="updateItemCount(item.product._id, item.count - 1)"
        >
          <i class="fa fa-minus"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="row">
    <a
      routerLink="/allorders"
      *ngIf="cartItems.length !== 0"
      class="col-md-4 btn bg-main text-white fs-5 d-block ms-auto my-4"
      >Show all your previous orders</a
    >
  </div>
</div>
